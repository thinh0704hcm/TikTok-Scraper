============================================================
ğŸš€ Starting LSTM Data Preparation Pipeline (RELAXED)
============================================================
ğŸ“‚ Loading video data from JSON files...
âœ… Loaded 68268 video snapshots
   Unique accounts in raw data: 32
   Accounts: ['atusmain', 'bac_hello2', 'bnh.trng.lui', 'congb_', 'dieplamanh', 'dieunhiofficial', 'donhathoang13', 'duyyy.real.channel', 'fhn2812', 'haidang_doo', 'haiichieu', 'halinhofficial', 'hansara.official', 'hieuthuhai2222', 'huynguyen.3101', 'ising52hz', 'jenny.huynh._', 'jukysan', 'khanhvyccf', 'khoailangthang', 'lehoanglong4493', 'linhbarbie', 'lyduc17', 'ngthanhnhan2807', 'ocean.gill', 'phuongmychiofficial', 'phuongnam.dv', 'qh.masterd', 'quankhonggo', 'realpewpew', 'ribisachi36', 'yunbray']

ğŸ§¹ Cleaning and preparing data (relaxed criteria)...
âœ… Data cleaned: 5389 records remaining (removed 62879)
   Unique videos: 160
   Unique accounts: 30
   âš ï¸  Lost 2 accounts during cleaning: ['halinhofficial', 'qh.masterd']

ğŸ”¬ Augmenting data for accounts with <30 videos...
âœ… Augmentation complete:
   Accounts augmented: 30
   Synthetic videos created: 866
   Total videos now: 1026

â±ï¸  Filtering videos (relaxed: â‰¥6 snapshots, any within 7 days)...
âœ… Kept 1014 videos with sufficient data
   Total records: 40232
   Unique accounts: 30
   Time resolution: 39min median (range: 29-815min)

ğŸ”§ Creating features...
âœ… Features created

ğŸ¯ Creating prediction targets (next-step views)...
âœ… Created 39218 target labels

âœ‚ï¸  Splitting data by videos WITHIN each KOL (train: 0.7, val: 0.15, test: 0.15000000000000005)...
   atusmain: 31 videos â†’ train:21, val:5, test:5
   bac_hello2: 36 videos â†’ train:25, val:5, test:6
   bnh.trng.lui: 39 videos â†’ train:27, val:6, test:6
   congb_: 40 videos â†’ train:28, val:6, test:6
   dieplamanh: 30 videos â†’ train:21, val:4, test:5
   dieunhiofficial: 35 videos â†’ train:24, val:5, test:6
   donhathoang13: 38 videos â†’ train:26, val:6, test:6
   duyyy.real.channel: 31 videos â†’ train:21, val:5, test:5
   fhn2812: 31 videos â†’ train:21, val:5, test:5
   haidang_doo: 38 videos â†’ train:26, val:6, test:6
   haiichieu: 40 videos â†’ train:28, val:6, test:6
   hansara.official: 39 videos â†’ train:27, val:6, test:6
   hieuthuhai2222: 35 videos â†’ train:24, val:5, test:6
   huynguyen.3101: 30 videos â†’ train:21, val:4, test:5
   ising52hz: 30 videos â†’ train:21, val:4, test:5
   jenny.huynh._: 31 videos â†’ train:21, val:5, test:5
   jukysan: 32 videos â†’ train:22, val:5, test:5
   khanhvyccf: 36 videos â†’ train:25, val:5, test:6
   khoailangthang: 30 videos â†’ train:21, val:4, test:5
   lehoanglong4493: 39 videos â†’ train:27, val:6, test:6
   linhbarbie: 32 videos â†’ train:22, val:5, test:5
   lyduc17: 33 videos â†’ train:23, val:5, test:5
   ngthanhnhan2807: 35 videos â†’ train:24, val:5, test:6
   ocean.gill: 34 videos â†’ train:23, val:5, test:6
   phuongmychiofficial: 36 videos â†’ train:25, val:5, test:6
   phuongnam.dv: 34 videos â†’ train:23, val:5, test:6
   quankhonggo: 31 videos â†’ train:21, val:5, test:5
   realpewpew: 29 videos â†’ train:20, val:4, test:5
   ribisachi36: 32 videos â†’ train:22, val:5, test:5
   yunbray: 37 videos â†’ train:25, val:6, test:6

âœ… Split complete:
   Train: 27928 records from 699 videos, 30 accounts
   Val:   5784 records from 152 videos, 30 accounts
   Test:  6520 records from 166 videos, 30 accounts

ğŸ“Š Scaling features...
âœ… Features scaled: 14 features (t_since_post kept unscaled)

ğŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 25132 sequences from 699 videos
   X shape: (25132, 4, 15)
   y shape: (25132,)

ğŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 5182 sequences from 150 videos
   X shape: (5182, 4, 15)
   y shape: (5182,)

ğŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 5859 sequences from 165 videos
   X shape: (5859, 4, 15)
   y shape: (5859,)

ğŸ’¾ Saving artifacts...
âœ… Artifacts saved to data_processing\processed

ğŸ“Š Report Preview:
================================================================================
LSTM DATA PROCESSING REPORT
================================================================================
Generated: 2025-12-27 22:50:12

Configuration:
  - Sequence length: 4
  - Min snapshots per video: 6
  - Max days coverage: 7
  - Data augmentation: ENABLED

Data Augmentation Summary:
  - Accounts augmented: 30/30
  - Synthetic videos created: 866
  - Method: Linear interpolation between existing videos + noise

  Augmented accounts:
    â€¢ atusmain: 1 real + 30 synthetic = 31 total
    â€¢ bac_hello2: 3 real + 34 synthetic = 37 total
    â€¢ bnh.trng.lui: 1 real + 38 synthetic = 39 total
    â€¢ congb_: 10 real + 30 synthetic = 40 total
    â€¢ dieplamanh: 17 real + 13 synthetic = 30 total
    â€¢ dieunhiofficial: 7 real + 28 synthetic = 35 total
    â€¢ donhathoang13: 4 real + 34 synthetic = 38 total
    â€¢ duyyy.real.channel: 10 real + 21 synthetic = 31 total
    â€¢ fhn2812: 1 real + 30 synthetic = 31 total
    â€¢ haidang_doo: 2 real + 36 synthetic = 38 total
    â€¢ haiichieu: 4 real + 36 synthetic = 40 total
    â€¢ hansara.official: 3 real + 37 synthetic = 40 total
    â€¢ hieuthuhai2222: 2 real + 33 synthetic = 35 total
    â€¢ huynguyen.3101: 1 real + 29 synthetic = 30 total
    â€¢ ising52hz: 16 real + 21 synthetic = 37 total
    â€¢ jenny.huynh._: 4 real + 27 synthetic = 31 total
    â€¢ jukysan: 3 real + 30 synthetic = 33 total
    â€¢ khanhvyccf: 1 real + 35 synthetic = 36 total
    â€¢ khoailangthang: 2 real + 28 synthetic = 30 total
    â€¢ lehoanglong4493: 8 real + 31 synthetic = 39 total
    â€¢ linhbarbie: 3 real + 29 synthetic = 32 total
    â€¢ lyduc17: 3 real + 30 synthetic = 33 total
    â€¢ ngthanhnhan2807: 4 real + 31 synthetic = 35 total
    â€¢ ocean.gill: 5 real + 29 synthetic = 34 total
    â€¢ phuongmychiofficial: 13 real + 24 synthetic = 37 total
    â€¢ phuongnam.dv: 3 real + 31 synthetic = 34 total
    â€¢ quankhonggo: 5 real + 26 synthetic = 31 total
    â€¢ realpewpew: 23 real + 7 synthetic = 30 total
    â€¢ ribisachi36: 5 real + 27 synthetic = 32 total
    â€¢ yunbray: 6 real + 31 synthetic = 37 total

Sequence counts per account:
Account                        Videos     Train      Val        Test       Total     
--------------------------------------------------------------------------------
atusmain                       31         903        215        215        1333      
bac_hello2                     37         585        115        145        845       
bnh.trng.lui                   39         513        114        114        741       
congb_                         40         919        214        190        1323      
dieplamanh                     30         655        117        156        928       
dieunhiofficial                35         926        167        216        1309      
donhathoang13                  38         1118       232        258        1608      
duyyy.real.channel             31         750        158        189        1097      
fhn2812                        31         903        215        215        1333      
haidang_doo                    38         406        96         96         598       
haiichieu                      40         1136       206        212        1554      
hansara.official               40         589        92         134        815       
hieuthuhai2222                 35         1032       215        258        1505      
huynguyen.3101                 30         903        172        215        1290      
ising52hz                      27         474        19         100        593       
jenny.huynh._                  31         795        147        215        1157      
jukysan                        33         946        215        215        1376      
khanhvyccf                     36         1075       215        258        1548      
khoailangthang                 30         903        149        215        1267      
lehoanglong4493                39         972        229        239        1440      
linhbarbie                     32         924        210        192        1326      
lyduc17                        33         981        194        213        1388      
ngthanhnhan2807                35         912        175        258        1345      
ocean.gill                     34         826        195        191        1212      
phuongmychiofficial            37         893        170        227        1290      
phuongnam.dv                   34         771        153        165        1089      
quankhonggo                    31         781        173        187        1141      
realpewpew                     30         685        156        197        1038      
ribisachi36                    32         878        215        175        1268      
yunbray                        37         978        239        199        1416      
--------------------------------------------------------------------------------
TOTAL                          1026       25132      5182       5859       36173     

================================================================================

ğŸ“„ Full report saved to: data_processing\processed\process_report.txt

============================================================
âœ… Pipeline Complete!
============================================================

ğŸ“ Output directory: D:\Learning\Sem5\SoftwareBuiltOnBigData\tiktok-scraper\data_processing\processed

ğŸ“Š Summary:
   Train sequences: 25132
   Val sequences:   5182
   Test sequences:  5859
   Sequence shape:  (4, 15) (timesteps, features)

âœ¨ Data is ready for LSTM training!

To load the data:
  X_train = np.load('data_processing/processed/X_train.npy')
  y_train = np.load('data_processing/processed/y_train.npy')
