============================================================
ðŸš€ Starting LSTM Data Preparation Pipeline (RELAXED)
============================================================
ðŸ“‚ Loading video data from JSON files...
âœ… Loaded 68268 video snapshots

ðŸ§¹ Cleaning and preparing data (relaxed criteria)...
âœ… Data cleaned: 5389 records remaining
   Unique videos: 160
   Unique accounts: 30

ðŸ”¬ Augmenting data for accounts with <30 videos...
âœ… Augmentation complete:
   Accounts augmented: 30
   Synthetic videos created: 900
   Total videos now: 1060

â±ï¸  Filtering videos (relaxed: â‰¥6 snapshots, any within 7 days)...
âœ… Kept 1048 videos with sufficient data
   Total records: 41810
   Time resolution: 39min median (range: 29-815min)

ðŸ”§ Creating features...
âœ… Features created

ðŸŽ¯ Creating prediction targets (next-step views)...
âœ… Created 40762 target labels

âœ‚ï¸  Splitting data by videos WITHIN each KOL (train: 0.7, val: 0.15, test: 0.15000000000000005)...
   atusmain: 32 videos â†’ train:22, val:5, test:5
   bac_hello2: 38 videos â†’ train:26, val:6, test:6
   bnh.trng.lui: 33 videos â†’ train:23, val:5, test:5
   congb_: 34 videos â†’ train:23, val:5, test:6
   dieplamanh: 36 videos â†’ train:25, val:5, test:6
   dieunhiofficial: 40 videos â†’ train:28, val:6, test:6
   donhathoang13: 38 videos â†’ train:26, val:6, test:6
   duyyy.real.channel: 34 videos â†’ train:23, val:5, test:6
   fhn2812: 34 videos â†’ train:23, val:5, test:6
   haidang_doo: 33 videos â†’ train:23, val:5, test:5
   haiichieu: 34 videos â†’ train:23, val:5, test:6
   hansara.official: 39 videos â†’ train:27, val:6, test:6
   hieuthuhai2222: 39 videos â†’ train:27, val:6, test:6
   huynguyen.3101: 33 videos â†’ train:23, val:5, test:5
   ising52hz: 23 videos â†’ train:16, val:3, test:4
   jenny.huynh._: 31 videos â†’ train:21, val:5, test:5
   jukysan: 35 videos â†’ train:24, val:5, test:6
   khanhvyccf: 39 videos â†’ train:27, val:6, test:6
   khoailangthang: 36 videos â†’ train:25, val:5, test:6
   lehoanglong4493: 32 videos â†’ train:22, val:5, test:5
   linhbarbie: 37 videos â†’ train:25, val:6, test:6
   lyduc17: 40 videos â†’ train:28, val:6, test:6
   ngthanhnhan2807: 39 videos â†’ train:27, val:6, test:6
   ocean.gill: 32 videos â†’ train:22, val:5, test:5
   phuongmychiofficial: 35 videos â†’ train:24, val:5, test:6
   phuongnam.dv: 40 videos â†’ train:28, val:6, test:6
   quankhonggo: 34 videos â†’ train:23, val:5, test:6
   realpewpew: 39 videos â†’ train:27, val:6, test:6
   ribisachi36: 33 videos â†’ train:23, val:5, test:5
   yunbray: 36 videos â†’ train:25, val:5, test:6

âœ… Split complete:
   Train: 28952 records from 724 videos, 30 accounts
   Val:   6312 records from 158 videos, 30 accounts
   Test:  6546 records from 170 videos, 30 accounts

ðŸ“Š Scaling features...
âœ… Features scaled: 14 features (t_since_post kept unscaled)

ðŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 26062 sequences from 722 videos
   X shape: (26062, 4, 15)
   y shape: (26062,)

ðŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 5680 sequences from 158 videos
   X shape: (5680, 4, 15)
   y shape: (5680,)

ðŸªŸ Creating sequences (length=4, target=target_views_next)...
âœ… Created 5872 sequences from 168 videos
   X shape: (5872, 4, 15)
   y shape: (5872,)

ðŸ’¾ Saving artifacts...
âœ… Artifacts saved to data_processing\processed

ðŸ“Š Report Preview:
================================================================================
LSTM DATA PROCESSING REPORT
================================================================================
Generated: 2025-12-27 22:42:18

Configuration:
  - Sequence length: 4
  - Min snapshots per video: 6
  - Max days coverage: 7
  - Data augmentation: ENABLED

Data Augmentation Summary:
  - Accounts augmented: 30/30
  - Synthetic videos created: 900
  - Method: Linear interpolation between existing videos + noise

  Augmented accounts:
    â€¢ atusmain: 1 real + 31 synthetic = 32 total
    â€¢ bac_hello2: 3 real + 36 synthetic = 39 total
    â€¢ bnh.trng.lui: 1 real + 32 synthetic = 33 total
    â€¢ congb_: 10 real + 24 synthetic = 34 total
    â€¢ dieplamanh: 17 real + 19 synthetic = 36 total
    â€¢ dieunhiofficial: 7 real + 33 synthetic = 40 total
    â€¢ donhathoang13: 4 real + 34 synthetic = 38 total
    â€¢ duyyy.real.channel: 10 real + 24 synthetic = 34 total
    â€¢ fhn2812: 1 real + 33 synthetic = 34 total
    â€¢ haidang_doo: 2 real + 31 synthetic = 33 total
    â€¢ haiichieu: 4 real + 30 synthetic = 34 total
    â€¢ hansara.official: 3 real + 37 synthetic = 40 total
    â€¢ hieuthuhai2222: 2 real + 37 synthetic = 39 total
    â€¢ huynguyen.3101: 1 real + 32 synthetic = 33 total
    â€¢ ising52hz: 16 real + 14 synthetic = 30 total
    â€¢ jenny.huynh._: 4 real + 27 synthetic = 31 total
    â€¢ jukysan: 3 real + 33 synthetic = 36 total
    â€¢ khanhvyccf: 1 real + 38 synthetic = 39 total
    â€¢ khoailangthang: 2 real + 34 synthetic = 36 total
    â€¢ lehoanglong4493: 8 real + 24 synthetic = 32 total
    â€¢ linhbarbie: 3 real + 34 synthetic = 37 total
    â€¢ lyduc17: 3 real + 37 synthetic = 40 total
    â€¢ ngthanhnhan2807: 4 real + 35 synthetic = 39 total
    â€¢ ocean.gill: 5 real + 27 synthetic = 32 total
    â€¢ phuongmychiofficial: 13 real + 23 synthetic = 36 total
    â€¢ phuongnam.dv: 3 real + 37 synthetic = 40 total
    â€¢ quankhonggo: 5 real + 29 synthetic = 34 total
    â€¢ realpewpew: 23 real + 17 synthetic = 40 total
    â€¢ ribisachi36: 5 real + 28 synthetic = 33 total
    â€¢ yunbray: 6 real + 30 synthetic = 36 total

Sequence counts per account:
Account                        Videos     Train      Val        Test       Total     
--------------------------------------------------------------------------------
atusmain                       32         946        215        215        1376      
bac_hello2                     39         600        135        135        870       
bnh.trng.lui                   33         437        95         95         627       
congb_                         34         838        168        184        1190      
dieplamanh                     36         853        167        184        1204      
dieunhiofficial                40         1057       207        179        1443      
donhathoang13                  38         1118       232        258        1608      
duyyy.real.channel             34         831        163        206        1200      
fhn2812                        34         989        215        258        1462      
haidang_doo                    33         358        80         80         518       
haiichieu                      34         786        184        212        1182      
hansara.official               40         547        148        106        801       
hieuthuhai2222                 39         1161       258        258        1677      
huynguyen.3101                 33         989        215        215        1419      
ising52hz                      20         263        57         31         351       
jenny.huynh._                  31         849        188        120        1157      
jukysan                        36         1032       215        258        1505      
khanhvyccf                     39         1161       258        258        1677      
khoailangthang                 36         1052       215        258        1525      
lehoanglong4493                32         848        194        194        1236      
linhbarbie                     37         1032       252        252        1536      
lyduc17                        40         1175       257        255        1687      
ngthanhnhan2807                39         1041       238        238        1517      
ocean.gill                     32         782        127        215        1124      
phuongmychiofficial            36         799        191        187        1177      
phuongnam.dv                   40         831        258        227        1316      
quankhonggo                    34         834        201        192        1227      
realpewpew                     40         915        195        209        1319      
ribisachi36                    33         921        175        215        1311      
yunbray                        36         1017       177        178        1372      
--------------------------------------------------------------------------------
TOTAL                          1060       26062      5680       5872       37614     

================================================================================

ðŸ“„ Full report saved to: data_processing\processed\process_report.txt

============================================================
âœ… Pipeline Complete!
============================================================

ðŸ“ Output directory: D:\Learning\Sem5\SoftwareBuiltOnBigData\tiktok-scraper\data_processing\processed

ðŸ“Š Summary:
   Train sequences: 26062
   Val sequences:   5680
   Test sequences:  5872
   Sequence shape:  (4, 15) (timesteps, features)

âœ¨ Data is ready for LSTM training!

To load the data:
  X_train = np.load('data_processing/processed/X_train.npy')
  y_train = np.load('data_processing/processed/y_train.npy')
